import{_ as u,a as g,b as k}from"./motrix-ua-D5tyJkUc.js";import{_ as m,j as c,f as i,m as r,a as t,w as n,l as o,o as b,e}from"./app-Ddffynhy.js";const A={},y={class:"hint-container tip"},F={class:"hint-container caution"};function v(B,s){const d=o("Mermaid"),h=o("Badge"),p=o("Tabs");return b(),c("div",null,[s[15]||(s[15]=i("h1",{id:"百度网盘",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#百度网盘"},[i("span",null,"百度网盘")])],-1)),i("div",y,[s[0]||(s[0]=r('<p class="hint-container-title">提示</p><p>由于百度网盘 API 的限制，下载大于 20M 左右的文件需要携带 header：&quot;User-Agent&quot;:&quot;<a href="http://pan.baidu.com" target="_blank" rel="noopener noreferrer">pan.baidu.com</a>&quot;，所以下载大于 20M 的文件时，需要设置请求头，例如使用 curl：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">curl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -L</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -X</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> GET</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;YOUR_LINK&#39;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -H</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;User-Agent:pan.baidu.com&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>或者使用本程序中的代理功能进行传输。</p>',4)),t(d,{id:"mermaid-11",code:"eJyNkstu00AUhvd5ilGzAckODaFUWDRSUR+BioXFwpdxanncVLFLQfIKBELl4hRSmkIgRW1TC0FaCak0zu1lZsbd8QrMjJOQqqrU3e/vnPOfi0eW5Yxv+wgqINkdkLiF463kS520nuP+NmlESTykH37R2uBvr5nhyRYqbxgrWsUHDx9kAPD8ZwgCBCwbISVr3bMkz6+UHahkC4XCSMsbtumvKHfWnk4K3HGBNT83P3e9Gu36TQyked4StFKRHxXOWrOXYrcnMetSrDBpeJfFNPXG9IVuPmYsr5J2nX7q0PeHJNznRFfPT18m8RHufSZbdU4MldY6y4tcmirDky+o4rN308BSaeMnaZzg7n5SfcVJiZGY7EbkrEXafXJwxKFzEZ6ETDAnshnxKFJJeIy7h+lf48RVk+5H+rXJtQYWFoogz0cXSucjK4oyugVDAa0fB8DgHMg5uRgwa4FcvosoMoXiQQD5VuN6bskMlhfZRvR19b5euVVc01Zzumab6zmj7AYA8b3H+YXUgxtPs7QnOwwetsVtSPjj/EUf94dJLZq+EI2+k14IRB9SfUt3Ttmzpd8aaeYjqC9pT3CnSXf26O9t4SRS08BVpgHgD8ESi5aEEkM6/G9cXFQs4/wfXDBxJWQbDjAkKJmSKxmGZJoShGAmS/90yeaevO7BiqyV4Kovp/2TgxgP3sxk/gEoBoIn"})]),s[16]||(s[16]=r(`<h2 id="刷新令牌" tabindex="-1"><a class="header-anchor" href="#刷新令牌"><span><strong>刷新令牌</strong></span></a></h2><p><a href="https://openapi.baidu.com/oauth/2.0/authorize?response_type=code&amp;client_id=iYCeC9g08h5vuP9UqvPHKKSVrKFXGa1v&amp;redirect_uri=https://alist.example.com/tool/baidu/callback&amp;scope=basic,netdisk&amp;qrcode=1" target="_blank" rel="noopener noreferrer">点击这里</a> 来获取刷新令牌。</p><h2 id="根文件夹id" tabindex="-1"><a class="header-anchor" href="#根文件夹id"><span><strong>根文件夹ID</strong></span></a></h2><p>要挂载的根文件夹，默认为<code>/</code></p><ul><li>单独挂载某文件夹，按照下面格式，<code>/</code>是根目录，想挂载那个目录就延伸到那个目录就可以 <ul><li>/文件夹-A/……/文件夹-x</li></ul></li></ul><br><h2 id="自定义破解ua" tabindex="-1"><a class="header-anchor" href="#自定义破解ua"><span><s><strong>自定义破解ua</strong></s></span></a></h2><p><s><a href="https://github.com/alist-org/alist/issues/5602#issuecomment-1831188682" target="_blank" rel="noopener noreferrer"><strong>使用【本地代理 &amp; Crack API】时候使用的UA</strong></a></s> 非官方接口已无法使用</p><br><h2 id="下载接口" tabindex="-1"><a class="header-anchor" href="#下载接口"><span><strong>下载接口</strong></span></a></h2><ul><li><p>Official: 官方接口，很稳定，但是文件比较大，需要修改UA，速度慢 (SVIP速度快)</p></li><li><p>Crack: 非官方接口，<strong>似乎已经无法使用了</strong><s>现在也需要修改UA且部分文件可能不限速，但是会不稳定（不保证100%可用性）需要使用大于<code>3.19.0</code>的版本</s></p><ul><li><s><mark>需要将UA改成<code>netdisk</code></mark>，修改方法参考下方<a href="#%E6%B7%BB%E5%8A%A0-user-agent-%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B">添加-user-agent-使用示例</a></s></li><li><s>或者开启Web代理（需要大宽带才能带的动）</s></li><li><s>WebDav播放不需要修改UA，可以直接302播放</s></li><li><s>仅限于播放/下载 <strong><code>视频(只测试了mp4格式其他格式未测试)</code></strong>，其他类型文件的会出现下方提示</s></li><li><s>如果出现下面的提示请勿担心，这不是错误不是Bug，这只是限制，请勿填写<code>issue</code>上报.</s></li></ul></li><li><p>Crack video：非官方视频接口，播放视频专用，非视频格式会出现以下错误 是正常情况</p><ul><li><p>浏览器查看也需要修改UA：<code>pan.baidu.com</code> 或者 <code>netdisk</code> 总之不是浏览器 User-Agent 都能播放视频</p></li><li><p>具体情况和之前的非官方接口用法一样</p></li><li><p><mark>可以持续使用时间未知，不保证100%可用性</mark></p></li></ul></li></ul><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line highlighted"><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">	error_code</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">31119</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line highlighted"><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">	error_msg</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;hit black userlist , hit illeage dlna&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line highlighted"><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">	request_id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">541111111111111140</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line highlighted"><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">	error_code</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">31329</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line highlighted"><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">	error_msg</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;hit black userlist , hit illeage dlna&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line highlighted"><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">	request_id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">921111381111111100</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h3 id="添加-user-agent-使用示例" tabindex="-1"><a class="header-anchor" href="#添加-user-agent-使用示例"><span><strong>添加 &quot;User-Agent&quot; 使用示例</strong></span></a></h3>`,14)),i("div",F,[s[14]||(s[14]=r('<p class="hint-container-title">如果你不会设置 &quot;User-Agent&quot; 请看这里</p><p><mark>以下方法仅限于有百度超级会员用户使用</mark></p><p><mark>再次提示 以下方法仅限于有百度超级会员用户使用</mark></p><p>有会员改完 <strong><code>&quot;User-Agent&quot;</code></strong> 才会有用（选择官方和302）</p><p>如果不改 <strong><code>&quot;User-Agent&quot;</code></strong>，可以开启 <mark>Web代理</mark>，缺点是需要你搭建OpenList的机器中转，也就是说你需要大宽带帮你中转</p><div>     <p style="text-align:center;"><span>网页302模式修改UA教程 : <br></span>左侧为<span style="color:red;font-weight:bold;font-size:xx-large;">『官方』</span>接口，右侧为<span style="color:blue;font-weight:bold;font-size:xx-large;">『非官方-已无法使用』</span>接口</p>     <div class="image-preview">         <video width="360" height="240" controls>             <source src="https://r2.izyt.cc/alist/baidu/%E7%99%BE%E5%BA%A6%E5%AE%98%E6%96%B9%E6%8E%A5%E5%8F%A3.mp4" type="video/mp4">         </video>         <video width="360" height="240" controls>             <source src="https://r2.izyt.cc/alist/baidu/%E7%99%BE%E5%BA%A6%E9%9D%9E%E5%AE%98%E6%96%B9%E6%8E%A5%E5%8F%A3.mp4" type="video/mp4">         </video>     </div></div>',6)),t(p,{id:"130",data:[{id:"网页插件"},{id:"Aria2"},{id:"Motrix"}],"tab-id":"ua"},{title0:n(({value:l,isActive:a})=>s[1]||(s[1]=[e("网页插件")])),title1:n(({value:l,isActive:a})=>s[2]||(s[2]=[e("Aria2")])),title2:n(({value:l,isActive:a})=>s[3]||(s[3]=[e("Motrix")])),tab0:n(({value:l,isActive:a})=>[s[10]||(s[10]=i("ul",null,[i("li",null,"使用浏览器插件修改的好处是 可以直接在线播放，当然了下载也是可以的。")],-1)),i("p",null,[s[4]||(s[4]=e("例")),t(h,{text:"1",type:"info",vertical:"middle"}),s[5]||(s[5]=e("：实在不会的可以看看一个Web网页端的例子： ")),s[6]||(s[6]=i("strong",null,[i("a",{href:"https://www.bilibili.com/video/BV1UA4y1X7J8",target:"_blank",rel:"noopener noreferrer"},"https://www.bilibili.com/video/BV1UA4y1X7J8")],-1))]),i("p",null,[s[7]||(s[7]=e("例")),t(h,{text:"2",type:"info",vertical:"middle"}),s[8]||(s[8]=e("：另一款插件方法涵盖360，Chrome，Edge： ")),s[9]||(s[9]=i("strong",null,[i("a",{href:"https://youtu.be/PP6b0WSzYMc",target:"_blank",rel:"noopener noreferrer"},"https://youtu.be/PP6b0WSzYMc")],-1))]),s[11]||(s[11]=i("p",null,[i("img",{src:k,alt:"alist",loading:"lazy"})],-1))]),tab1:n(({value:l,isActive:a})=>s[12]||(s[12]=[i("ol",null,[i("li",null,[i("p",null,[e("先照着下图设置好 "),i("strong",null,[i("code",null,'"User-Agent"')]),e("，然后在"),i("strong",null,"右下角"),e("的按钮选项，点击"),i("strong",null,"齿轮"),e("(本地设置)，配置好参数")])]),i("li",null,[i("p",null,[e("然后在右下角打开第三个按钮选项（"),i("strong",null,"打开复选框"),e("），打开后去列表选择我们要下载的文件，")])]),i("li",null,[i("p",null,[e("把我们需要下载的文件"),i("strong",null,"进行勾选"),e("，勾选好后下方会出现"),i("strong",null,"一排按钮"),e("，选择右侧第二个选项下载里面有一个"),i("strong",null,"发送到Aria2")])])],-1),i("p",null,[e("如果你使用了网页修改 "),i("strong",null,[i("code",null,'"User-Agent"')]),e("，可以不配置 "),i("mark",null,[i("strong",null,"Aria2")]),e(" 的"),i("code",null,"UA"),e("，直接推送到Aria2也能下载")],-1),i("p",null,[i("img",{src:g,alt:"alist",loading:"lazy"})],-1)])),tab2:n(({value:l,isActive:a})=>s[13]||(s[13]=[i("ol",null,[i("li",null,[i("p",null,[e("先照着下图设置好 "),i("strong",null,[i("code",null,'"User-Agent"')]),e("，然后在"),i("strong",null,"右下角"),e("的按钮选项，点击"),i("strong",null,"齿轮"),e("(本地设置)，配置好参数")])]),i("li",null,[i("p",null,[e("然后在右下角打开第三个按钮选项（"),i("strong",null,"打开复选框"),e("），打开后去列表选择我们要下载的文件，")])]),i("li",null,[i("p",null,[e("把我们需要下载的文件"),i("strong",null,"进行勾选"),e("，勾选好后下方会出现"),i("strong",null,"一排按钮"),e("，选择右侧第二个选项下载里面有一个"),i("strong",null,"发送到Aria2")])])],-1),i("p",null,[e("如果你使用了网页修改 "),i("strong",null,[i("code",null,'"User-Agent"')]),e("，可以不配置 "),i("mark",null,[i("strong",null,"Motrix")]),e(" 的"),i("code",null,"UA"),e("，直接推送到Aria2也能下载")],-1),i("ul",null,[i("li",null,[e("Motrix下载链接："),i("a",{href:"https://motrix.app/",target:"_blank",rel:"noopener noreferrer"},"Motrix官网"),e("，"),i("a",{href:"https://github.com/agalwood/Motrix",target:"_blank",rel:"noopener noreferrer"},"Motrix-GitHub")])],-1),i("p",null,[i("img",{src:u,alt:"alist",loading:"lazy"})],-1)])),_:1})]),s[17]||(s[17]=r('<br><h2 id="上传配置" tabindex="-1"><a class="header-anchor" href="#上传配置"><span><strong>上传配置</strong></span></a></h2><p>官方文档：<a href="https://pan.baidu.com/union/doc/3ksg0s9ye" target="_blank" rel="noopener noreferrer">百度网盘开放平台 - 上传 - 能力说明</a></p><blockquote><p>百度网盘要求在 30s 内完成单个分片的上传，所以上传文件时并发过高可能会导致大量失败。</p></blockquote><ul><li>上传线程：同时上传几个分片</li><li>上传 API：上传的域名端点</li><li>自定义上传分片大小：用于指定分片大小，有限制，仅会员可用</li><li>低上传带宽模式：尝试解决低上传带宽场景（如家宽）下，频繁出现 <code>Client.Timeout exceeded while awaiting headers</code> 的问题。开启后会使用尽可能小的分片大小。</li></ul><br><h2 id="默认使用的下载方式" tabindex="-1"><a class="header-anchor" href="#默认使用的下载方式"><span><strong>默认使用的下载方式</strong></span></a></h2>',7)),t(d,{id:"mermaid-246",code:"eJzT1dXlKsksyUm1Uni5e8aLdUue7N3/fMqK57Nank5e9Xx575Md3S/27n02befTPf3v98znAqlPy8kvT85ILCpRCHHiUgCC4pLKnFSFREOFtMycHCvlpKQ0neKSovzsVCvlNDMzKFu3PDOlJMPKqKBCJzk/J78IKJeWhqzdCKo9Lc3c1NwUboKxsTGqCSYFFRBtpUnpRYkFGQqZKamGCtEKsWDRREMwlZqXAuVGGxsYxVpZWRXn56Ym5yQWF9sCQQ3EszWJRtFA3z7r2P5i3b6nS9ohRoBVuaSmKcC1wFxmaQZRYBj9bM6aZ3N2Pdm9+PmEtlhdPaDelw2derp2WA1MMoyGqAwN8iGoODknMzkbFJhKenr6KUWZZalFxfrJ+bm5+Xl6GSW5OcrlqUkpiWW6z9dOez51qRKSniQy9CQTrQcAkHnb9A=="})])}const E=m(A,[["render",v]]),w=JSON.parse('{"path":"/zh/guide/drivers/baidu.html","title":"百度网盘","lang":"zh-CN","frontmatter":{"icon":"iconfont icon-state","order":66,"category":["Guide"],"tag":["Storage","Guide","302","官方"],"sticky":true,"star":true},"headers":[{"level":2,"title":"刷新令牌","slug":"刷新令牌","link":"#刷新令牌","children":[]},{"level":2,"title":"根文件夹ID","slug":"根文件夹id","link":"#根文件夹id","children":[]},{"level":2,"title":"自定义破解ua","slug":"自定义破解ua","link":"#自定义破解ua","children":[]},{"level":2,"title":"下载接口","slug":"下载接口","link":"#下载接口","children":[{"level":3,"title":"添加 \\"User-Agent\\" 使用示例","slug":"添加-user-agent-使用示例","link":"#添加-user-agent-使用示例","children":[]}]},{"level":2,"title":"上传配置","slug":"上传配置","link":"#上传配置","children":[]},{"level":2,"title":"默认使用的下载方式","slug":"默认使用的下载方式","link":"#默认使用的下载方式","children":[]}],"git":{"createdTime":1662881160000,"updatedTime":1749716087000,"contributors":[{"name":"Noah Hsu","username":"Noah Hsu","email":"i@nn.ci","commits":5,"url":"https://github.com/Noah Hsu"},{"name":"Chi_Tang","username":"Chi_Tang","email":"chitang@duck.com","commits":1,"url":"https://github.com/Chi_Tang"},{"name":"Glucy2","username":"Glucy2","email":"Glucy2@126.com","commits":1,"url":"https://github.com/Glucy2"},{"name":"安稳","username":"安稳","email":"56105412+anwen-anyi@users.noreply.github.com","commits":14,"url":"https://github.com/安稳"},{"name":"Andy Hsu","username":"Andy Hsu","email":"i@nn.ci","commits":5,"url":"https://github.com/Andy Hsu"},{"name":"Andy Hsu","username":"Andy Hsu","email":"xhofe@qq.com","commits":2,"url":"https://github.com/Andy Hsu"},{"name":"Patrick-Ze","username":"Patrick-Ze","email":"19711799+Patrick-Ze@users.noreply.github.com","commits":1,"url":"https://github.com/Patrick-Ze"},{"name":"安稳","username":"安稳","email":"anwen_anyi@foxmail.com","commits":8,"url":"https://github.com/安稳"},{"name":"Ljcbaby","username":"Ljcbaby","email":"46277145+ljcbaby@users.noreply.github.com","commits":1,"url":"https://github.com/Ljcbaby"},{"name":"anwen","username":"anwen","email":"anwen_anyi@foxmail.com","commits":1,"url":"https://github.com/anwen"},{"name":"Hantong Chen","username":"Hantong Chen","email":"cxwdyx620@gmail.com","commits":2,"url":"https://github.com/Hantong Chen"}]},"readingTime":{"minutes":5.86,"words":1759},"filePathRelative":"zh/guide/drivers/baidu.md","localizedDate":"2022年9月11日"}');export{E as comp,w as data};
