import{B as u}from"./Button-DZj7xRMR.js";import{d as N,h as x,c as p,o as _,w as s,a as o,f as c,b as h,u as r,N as m,e as l,t as f,_ as b}from"./app-Bl4GcpgC.js";import{N as d}from"./Input-INisigsE.js";import{N as z}from"./Card-BQY6On1q.js";import{N as g}from"./text-BeCa7Zut.js";const w="https://alist.example.com/tool/google/callback",P=N({__name:"Request",setup(R){function v(){window.open("https://console.developers.google.com/","_blank")}const a={client_id:"202264815644.apps.googleusercontent.com",auth_uri:"https://accounts.google.com/o/oauth2/auth",token_uri:"https://oauth2.googleapis.com/token",auth_provider_x509_cert_url:"https://www.googleapis.com/oauth2/v1/certs",client_secret:"X4Z3ca8xfWDb1Voo-F9a7ZxJ",redirect_uri:"http://127.0.0.1:53682/"},t=x({client_id:"",client_secret:"",redirect_uri:""});function k(){t.client_id=a.client_id,t.client_secret=a.client_secret,t.redirect_uri=a.redirect_uri}function y(){t.client_id="",t.client_secret="",t.redirect_uri=w}function C(){const i=new URL("https://accounts.google.com/o/oauth2/auth");i.searchParams.set("client_id",t.client_id),i.searchParams.set("response_type","code"),i.searchParams.set("redirect_uri",t.redirect_uri),i.searchParams.set("scope","openid profile https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/photoslibrary"),i.searchParams.set("access_type","offline"),i.searchParams.set("prompt","consent"),i.searchParams.set("state",btoa(`${t.client_id}::${t.client_secret}::${t.redirect_uri}`)),window.open(i.toString(),"_blank")}return(i,e)=>(_(),p(r(m),{vertical:"",size:"large"},{default:s(()=>[o(r(m),{justify:"center"},{default:s(()=>[o(r(u),{size:"large",secondary:"",onClick:v},{default:s(()=>e[3]||(e[3]=[l("Create client")])),_:1,__:[3]}),o(r(u),{size:"large",type:"primary",onClick:k},{default:s(()=>e[4]||(e[4]=[l("Use RClone client")])),_:1,__:[4]}),o(r(u),{size:"large",type:"info",onClick:y},{default:s(()=>e[5]||(e[5]=[l("Use own client")])),_:1,__:[5]})]),_:1}),e[10]||(e[10]=c("h4",null,"client_id",-1)),o(r(d),{size:"large",value:t.client_id,"onUpdate:value":e[0]||(e[0]=n=>t.client_id=n)},null,8,["value"]),e[11]||(e[11]=c("h4",null,"client_secret",-1)),o(r(d),{size:"large",value:t.client_secret,"onUpdate:value":e[1]||(e[1]=n=>t.client_secret=n)},null,8,["value"]),e[12]||(e[12]=c("h4",null,"redirect_uri",-1)),o(r(d),{size:"large",value:t.redirect_uri,"onUpdate:value":e[2]||(e[2]=n=>t.redirect_uri=n)},null,8,["value"]),o(r(u),{size:"large",type:"primary",block:"",onClick:C},{default:s(()=>e[6]||(e[6]=[l("Go get")])),_:1,__:[6]}),t.client_id===a.client_id?(_(),p(r(z),{key:0,title:"If you use rclone client"},{default:s(()=>[e[7]||(e[7]=l(" Replace ")),o(r(g),{code:""},{default:s(()=>[l(f(a.redirect_uri),1)]),_:1}),e[8]||(e[8]=l(" with ")),o(r(g),{code:""},{default:s(()=>[l(f(w))]),_:1}),e[9]||(e[9]=l(" after oauth. "))]),_:1,__:[7,8,9]})):h("",!0)]),_:1,__:[10,11,12]}))}}),$=b(P,[["__scopeId","data-v-9c054eaa"]]);export{$ as R};
