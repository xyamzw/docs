import{B as c}from"./Button-JLW-V1dR.js";import{d as _,h as z,a2 as h,c as g,o as v,w as r,f as i,a as l,u as n,a3 as w,N as p,e as u,_ as b}from"./app-Ddffynhy.js";import{N as d}from"./Input-B1svLVVL.js";const k=_({__name:"Request",setup(N){const s={global:["https://login.microsoftonline.com","https://graph.microsoft.com","https://portal.azure.com","Global","https://www.office.com/","0a2991a3-1674-4334-8561-671cc7349960","uw67Q~TCMqdJyH35hlcHHclv~mhNOGx.jfPFm"],cn:["https://login.chinacloudapi.cn","https://microsoftgraph.chinacloudapi.cn","https://portal.azure.cn","21vianet(世纪互联)","https://portal.partner.microsoftonline.cn/Home","50ff485b-3bdc-4bd5-92a1-75b178187673","6v426lmVYKGM.bkuFu24-EqJAr_~~5_HKL"],de:["https://login.microsoftonline.de","https://graph.microsoft.de","https://portal.microsoftazure.de","Azure Germany"],us:["https://login.microsoftonline.us","https://graph.microsoft.us","https://portal.azure.us","Azure US GOV"]},e=z({zone:"global",client_id:"",client_secret:""});e.client_id=s[e.zone][5],e.client_secret=s[e.zone][6],h(()=>e.zone,o=>{e.client_id=s[o][5]||"",e.client_secret=s[o][6]||""});const m=()=>{window.open(s[e.zone][2]+"/#blade/Microsoft_AAD_RegisteredApps/ApplicationsListBlade","_blank")},f=()=>{const o=new URL(`${s[e.zone][0]}/common/oauth2/v2.0/authorize`);o.searchParams.set("client_id",e.client_id),o.searchParams.set("response_type","code"),o.searchParams.set("redirect_uri","https://alist.example.com/tool/onedrive/callback"),o.searchParams.set("scope","offline_access files.readwrite.all"),o.searchParams.set("state",window.btoa(`${e.client_id}::${e.client_secret}::${e.zone}`)),window.open(o.toString(),"_self")};return(o,t)=>(v(),g(n(p),{vertical:"",size:"large"},{default:r(()=>[t[5]||(t[5]=i("h4",null,"zone",-1)),l(n(w),{value:e.zone,"onUpdate:value":t[0]||(t[0]=a=>e.zone=a),size:"large",options:Object.keys(s).map(a=>({label:s[a][3],value:a}))},null,8,["value","options"]),t[6]||(t[6]=i("h4",null,"client_id",-1)),l(n(d),{size:"large",value:e.client_id,"onUpdate:value":t[1]||(t[1]=a=>e.client_id=a)},null,8,["value"]),t[7]||(t[7]=i("h4",null,"client_secret",-1)),l(n(d),{size:"large",value:e.client_secret,"onUpdate:value":t[2]||(t[2]=a=>e.client_secret=a)},null,8,["value"]),l(n(p),{justify:"center"},{default:r(()=>[l(n(c),{size:"large",secondary:"",onClick:m},{default:r(()=>t[3]||(t[3]=[u("Create client")])),_:1,__:[3]}),l(n(c),{size:"large",type:"primary",onClick:f},{default:r(()=>t[4]||(t[4]=[u("Get Refresh Token")])),_:1,__:[4]})]),_:1})]),_:1,__:[5,6,7]}))}}),C=b(k,[["__scopeId","data-v-52f9d9c7"]]);export{C as O};
